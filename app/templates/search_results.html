{% extends 'home.html' %}
{% load staticfiles %}
{% block content %}

  {% if object_list %}
    <div class="section">
      <h3 class="subtitle">Search Results for "{{ tquery }}"</h3>
      <div class="container">
        
      {% for tutorial in object_list %}
      <div class="box">
          <a href="{{ tutorial.link }}" target="_blank">{{ tutorial.title }}</a>
          <div class="tile">
          {% for tag in tutorial.tags.all %}
          <span class="tag">
            <b>ðŸ“Œ {{ tag }}</b>
          </span>
          {% endfor %}
          </div>
          </div>
      {% endfor %}    
      </div>
    </div>

  {% if object_list.has_other_pages %}
    <nav class="pagination is-centered" role="navigation" aria-label="pagination">
      {% if object_list.has_previous %}
        <a class="pagination-previous" href="?page={{ object_list.previous_page_number }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}{% if request.GET.ttype %}&ttype={{ request.GET.ttype }}{% endif %}">Previous</a>
        {% else %}
        <a class="pagination-previous" href="#!" title="This is the first page" disabled >Previous</a>
      {% endif %}
      {% if object_list.has_next %}
          <a href="?page={{ object_list.next_page_number }}{% if request.GET.q %}&q={{request.GET.q }}{% endif %}{% if request.GET.ttype %}&ttype={{ request.GET.ttype}}{% endif %}" class="pagination-next">Next page</a>
      {% else %}
          <a class="pagination-next" href="#!" disabled >Next</a>
      {% endif %}
      <ul class="pagination-list">
        {% for num in object_list.paginator.page_range %}
            {% if object_list.number == num %}
                <li><a class="pagination-link" href="#!">{{ num }}</a></li>
            {% else %}
                <li><a class="pagination-link" href="?page={{ num }}{% if request.GET.q %}&q={{ request.GET.q }}{% endif %}{% if request.GET.ttype %}&ttype={{ request.GET.ttype }}{% endif %}" >{{ num }}</a></li>
            {% endif %}
        {% endfor %}
      </ul>
    </nav>
  {% endif %}

  {% else %}
    <h2 class="subtitle notification is-primary" align="center">
    <img src="{% static 'app/search404.svg' %}" height="100" width="100">
      <br> Ah! Sorry, No Results ðŸ™€
    </h2>
  {% endif %}

{% endblock content %}